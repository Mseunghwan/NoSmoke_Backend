ê¸ˆì—° ì•± API ëª…ì„¸ì„œ
ğŸ” 1. ì‚¬ìš©ì ê´€ë¦¬ API
íšŒì›ê°€ì…
POST /api/auth/register
Request Body:
json
{
  "username": "user123",
  "email": "user@example.com",
  "password": "password123"
}
Response:
json
{
  "success": true,
  "message": "íšŒì›ê°€ì… ì„±ê³µ",
  "data": {
    "id": 1,
    "username": "user123",
    "email": "user@example.com",
    "points": 0
  }
}
ë¡œê·¸ì¸
POST /api/auth/login
Request Body:
json
{
  "email": "user@example.com",
  "password": "password123"
}
Response:
json
{
  "success": true,
  "message": "ë¡œê·¸ì¸ ì„±ê³µ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "user123",
      "email": "user@example.com",
      "points": 150
    }
  }
}
ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
GET /api/users/profile
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "id": 1,
    "username": "user123",
    "email": "user@example.com",
    "points": 150,
    "created_at": "2025-01-01T00:00:00Z"
  }
}
ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
PUT /api/users/profile
Authorization: Bearer {token}
Request Body:
json
{
  "username": "newUsername",
  "email": "newemail@example.com"
}
________________________________________
ğŸš¬ 2. í¡ì—°ì •ë³´ ê´€ë¦¬ API
í¡ì—°ì •ë³´ ë“±ë¡
POST /api/smoking-info
Authorization: Bearer {token}
Request Body:
json
{
  "cigarette_type": "ë§ë³´ë¡œ ê³¨ë“œ",
  "daily_consumption": 10,
  "quit_start_date": "2025-01-01",
  "quit_goal": "ê±´ê°• íšŒë³µ",
  "target_date": "2025-12-31"
}
Response:
json
{
  "success": true,
  "message": "í¡ì—°ì •ë³´ ë“±ë¡ ì™„ë£Œ",
  "data": {
    "id": 1,
    "user_id": 1,
    "cigarette_type": "ë§ë³´ë¡œ ê³¨ë“œ",
    "daily_consumption": 10,
    "quit_start_date": "2025-01-01",
    "quit_goal": "ê±´ê°• íšŒë³µ",
    "target_date": "2025-12-31",
    "created_at": "2025-01-01T00:00:00Z"
  }
}
í¡ì—°ì •ë³´ ì¡°íšŒ
GET /api/smoking-info
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "id": 1,
    "cigarette_type": "ë§ë³´ë¡œ ê³¨ë“œ",
    "daily_consumption": 10,
    "quit_start_date": "2025-01-01",
    "quit_goal": "ê±´ê°• íšŒë³µ",
    "target_date": "2025-12-31",
    "quit_days": 15,
    "money_saved": 67500
  }
}
í¡ì—°ì •ë³´ ìˆ˜ì •
PUT /api/smoking-info
Authorization: Bearer {token}
Request Body:
json
{
  "cigarette_type": "ë§ë³´ë¡œ ê³¨ë“œ",
  "daily_consumption": 8,
  "quit_goal": "ê±´ê°• íšŒë³µ ë° ê¸ˆì—°",
  "target_date": "2025-06-30"
}
________________________________________
ğŸ“ 3. ê¸ˆì—°ì„¤ë¬¸ ê´€ë¦¬ API
ì„¤ë¬¸ ì œì¶œ
POST /api/surveys
Authorization: Bearer {token}
Request Body:
json
{
  "is_success": true,
  "stress_level": 3,
  "stress_cause": "ì—…ë¬´",
  "craving_level": 2,
  "additional_notes": "ì˜¤ëŠ˜ì€ í¬ê²Œ ì–´ë µì§€ ì•Šì•˜ìŒ"
}
Response:
json
{
  "success": true,
  "message": "ì„¤ë¬¸ ì œì¶œ ì™„ë£Œ",
  "data": {
    "id": 1,
    "user_id": 1,
    "survey_date": "2025-01-15",
    "is_success": true,
    "stress_level": 3,
    "stress_cause": "ì—…ë¬´",
    "craving_level": 2,
    "additional_notes": "ì˜¤ëŠ˜ì€ í¬ê²Œ ì–´ë µì§€ ì•Šì•˜ìŒ",
    "points_earned": 10
  }
}
ì„¤ë¬¸ ë‚´ì—­ ì¡°íšŒ (ì›”ë³„)
GET /api/surveys?year=2025&month=1
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "surveys": [
      {
        "id": 1,
        "survey_date": "2025-01-15",
        "is_success": true,
        "stress_level": 3,
        "stress_cause": "ì—…ë¬´",
        "craving_level": 2,
        "additional_notes": "ì˜¤ëŠ˜ì€ í¬ê²Œ ì–´ë µì§€ ì•Šì•˜ìŒ"
      }
    ],
    "statistics": {
      "total_surveys": 15,
      "success_days": 12,
      "success_rate": 80.0,
      "average_stress": 3.2,
      "average_craving": 2.8
    }
  }
}
ì˜¤ëŠ˜ ì„¤ë¬¸ ì¡°íšŒ
GET /api/surveys/today
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "has_survey": true,
    "survey": {
      "id": 1,
      "survey_date": "2025-01-15",
      "is_success": true,
      "stress_level": 3,
      "craving_level": 2
    }
  }
}
ì„¤ë¬¸ ìˆ˜ì •
PUT /api/surveys/{surveyId}
Authorization: Bearer {token}
Request Body:
json
{
  "is_success": false,
  "stress_level": 5,
  "stress_cause": "ê°€ì¡± ë¬¸ì œ",
  "craving_level": 4,
  "additional_notes": "ìˆ˜ì •ëœ ë‚´ìš©"
}
________________________________________
ğŸ“Š 4. í†µê³„ ë° ëŒ€ì‹œë³´ë“œ API
ê¸ˆì—° ëŒ€ì‹œë³´ë“œ
GET /api/dashboard
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "quit_days": 15,
    "money_saved": 67500,
    "cigarettes_not_smoked": 150,
    "health_improvements": [
      "ì‹¬ë°•ìˆ˜ ì •ìƒí™”",
      "í ê¸°ëŠ¥ ê°œì„  ì‹œì‘"
    ],
    "current_streak": 5,
    "longest_streak": 8,
    "success_rate": 75.5,
    "points": 150
  }
}
ì›”ë³„ í†µê³„
GET /api/statistics/monthly?year=2025&month=1
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "total_days": 31,
    "success_days": 25,
    "success_rate": 80.6,
    "average_stress": 3.2,
    "average_craving": 2.5,
    "points_earned": 250,
    "money_saved": 112500
  }
}
________________________________________
ğŸ¯ 5. í¬ì¸íŠ¸ ê´€ë¦¬ API
í¬ì¸íŠ¸ ë‚´ì—­ ì¡°íšŒ
GET /api/points/history?page=1&size=10
Authorization: Bearer {token}
Response:
json
{
  "success": true,
  "data": {
    "transactions": [
      {
        "id": 1,
        "amount": 10,
        "type": "EARN",
        "description": "ì¼ì¼ ì„¤ë¬¸ ì™„ë£Œ",
        "created_at": "2025-01-15T10:00:00Z"
      }
    ],
    "total_points": 150,
    "page_info": {
      "current_page": 1,
      "total_pages": 3,
      "total_elements": 25
    }
  }
}

ğŸ”§ ê³µí†µ ì‘ë‹µ í˜•ì‹
ì„±ê³µ ì‘ë‹µ
json
{
  "success": true,
  "message": "ìš”ì²­ ì„±ê³µ",
  "data": { ... }
}
ì—ëŸ¬ ì‘ë‹µ
json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "ì…ë ¥ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤",
    "details": [
      {
        "field": "email",
        "message": "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤"
      }
    ]
  }
}
HTTP ìƒíƒœ ì½”ë“œ
â€¢	200 - ì„±ê³µ
â€¢	201 - ìƒì„± ì„±ê³µ
â€¢	400 - ì˜ëª»ëœ ìš”ì²­
â€¢	401 - ì¸ì¦ í•„ìš”
â€¢	403 - ê¶Œí•œ ì—†ìŒ
â€¢	404 - ë¦¬ì†ŒìŠ¤ ì—†ìŒ
â€¢	500 - ì„œë²„ ì˜¤ë¥˜

ğŸ“‹ API ì¸ì¦
ëª¨ë“  ë³´í˜¸ëœ APIëŠ” JWT í† í°ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
í—¤ë” í˜•ì‹:
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
í† í° ë§Œë£Œ ì‹œê°„: 24ì‹œê°„

